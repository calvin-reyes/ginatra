<li class="tree"><a href="#"><%= current_tree.try(:basename) %></a>
  <ul>
    <% current_tree.trees.each do |next_tree| %>
      <%= partial(:tree_part, :locals => {:current_tree => next_tree}) %>
    <% end unless current_tree.trees.empty? %>
    <% current_tree.blobs.each do |next_blob| %>
      <li class="blob"><%= next_blob.basename %></li>
    <% end unless current_tree.blobs.empty? %>
  </ul>
</li>